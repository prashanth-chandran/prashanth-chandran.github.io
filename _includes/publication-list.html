<div class="publications-grid">
    {% assign publications = site.publications | sort: 'date' | reverse %}
    {% assign limit = include.limit | default: publications.size %}
    {% for post in publications limit: limit %}
    <div class="publication-item">
        <div class="publication-image">
            {% if post.teaser %}
            <a href="{{ post.url | relative_url }}">
                <img src="{{ post.teaser | relative_url }}" alt="{{ post.title }}">
            </a>
            {% endif %}
        </div>
        <div class="publication-content">
            <h3 class="publication-title">
                <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            </h3>
            <div class="publication-meta">
                {% if post.venue %}
                <span class="publication-venue">{{ post.venue }}</span>
                {% endif %}
                {% if post.date %}
                <span class="publication-year">({{ post.date | date: "%Y" }})</span>
                {% endif %}
                
                {% if post.venue and post.venue contains "(Oral)" %}
                <div class="publication-award">Oral Presentation</div>
                {% endif %}
            </div>
            <div class="publication-links">
                <a href="{{ post.url | relative_url }}" class="btn btn--primary">View Details</a>
                
                {% if post.paperurl %}
                <a href="{{ post.paperurl }}" class="btn btn--outline">Paper</a>
                {% endif %}
                
                {% if post.project_page %}
                <a href="{{ post.project_page }}" class="btn btn--outline">Project Page</a>
                {% endif %}

                {% if post.bibtex %}
                <button class="btn btn--outline btn--copy-bibtex" data-bibtex="{{ post.bibtex | escape }}">Copy Bibtex</button>
                {% endif %}
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% if include.limit %}
<div class="publications-view-more">
    <a href="{{ '/publications/' | relative_url }}" class="btn btn--inverse">View All Publications</a>
</div>
{% endif %}
